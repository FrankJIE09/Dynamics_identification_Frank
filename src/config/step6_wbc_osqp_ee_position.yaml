# Step6 WBC-OSQP 末端位置控制（真实机械臂）
# min (1/2)||W^{1/2}(J qdd + J_dot qd - a*)||^2 + (lambda/2)||qdd||^2
# s.t. tau_min <= M*qdd + h <= tau_max
# a* = p_d_ddot + Kd*ev + Kp*ep,  ep = p_d - p,  ev = p_d_dot - p_dot

# 末端期望位置 (m)，基坐标系 [x, y, z]（来自示教/界面：X=-93.431mm, Y=-17.289mm, Z=577.887mm）
p_d: [-0.093431, -0.017289, 0.577887]
# 末端期望速度 (m/s)
p_d_dot: [0.0, 0.0, 0.0]
# 末端期望加速度 (m/s^2)
p_d_ddot: [0.0, 0.0, 0.0]

# 末端期望姿态 (度)，RPY [A, B, C]（来自示教/界面：A=0.256°, B=0.529°, C=5.405°）
rpy_d_deg: [0.256, 0.529, 5.405]
# 末端期望角速度 (rad/s)，[wx, wy, wz]
rpy_d_dot: [0.0, 0.0, 0.0]

# 任务空间 PD 增益（位置）
Kp: 100.0
Kd: 20.0
# 姿态 PD 增益（可选，不配置则仅位置控制）
Kp_orient: 20.0
Kd_orient: 5.0
# 姿态任务权重（相对位置的权重，用于 6D 时）
W_orient: 0.5
# 是否启用 6D 控制（true=位置+姿态，false=仅位置）
use_orientation: true

# 任务权重 W（标量则对角矩阵 W*I）
W: 1.0
# 正则化 lambda
lambda: 0.01

# 关节力矩限幅 (Nm)，7 个
tau_min: [-85.0, -85.0, -85.0, -36.0, -36.0, -36.0, -36.0]
tau_max: [85.0, 85.0, 85.0, 36.0, 36.0, 36.0, 36.0]

# 运行时间 (秒)
run_seconds: 60.0
